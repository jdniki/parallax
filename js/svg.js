/**
 * Created by jadhaon on 3/28/14.
 */
window.onload = function () {


   //space
    var far = Snap("#far");

    Snap.load("svg/far.svg", function (f) {
        f.selectAll("polygon[fill='#09B39C']").attr({fill: "#bada55"});
        g = f.select("g");
        far.append(g);
        g.drag();
    });

    var middle = Snap("#middle");

    Snap.load("svg/middle.svg", function (f) {
        f.selectAll("polygon[fill='#09B39C']").attr({fill: "#bada55"});
        g = f.select("g");
        middle.append(g);
        g.drag();
    });

    var near = Snap("#near");

    Snap.load("svg/near.svg", function (f) {
        f.selectAll("polygon[fill='#09B39C']").attr({fill: "#bada55"});
        g = f.select("g");
        near.append(g);
    });

    //wave and sea
    var s = Snap("#snap");

    drawCircle( s,  "-33.978 44.10199,-74.5 82.5,-74.5c38.39801,0 -9.5,-0.478" +
        " -9.5,33.5c0,33.978 34.89801,65.5 -3.5,65.5c-38.39801,0 -69.5,9.478 -69.5,-24.5z" ,
        1440 , 80 , 85 , s.gradient("l(1, 1, 1, 0) #74FAFF-#30ACFF-#007BFF"), 50 );


    var s2 = Snap("#snap-2");
    drawCircle( s2,  "-23.7569 -46.54144,-22 -4,-22c42.54144,0 77,19.2431 77,43c0,23.7569 -25.45856,17 -68,17c-42.54144,0 -5,-14.2431 -5,-38z",
        1580 , 50 , 80 , s2.gradient("l(1, 1, 1, 0) #74FAFF-#30ACFF-#30ACFF") , 50 );


    var s3 = Snap("#snap-3");

    drawCircle( s3,  "-14.79559 11.64087,-40.5 47,-40.5c35.35913,0 -11,-8.29558 12,27.5c23,35.79558 -30.64087,25.5 -28,26.5c2.64087,1 -24,1.29559 -31,-13.5z" ,
        1580 ,80 , 65 , s3.gradient("l(1, 1, 1, 0) #559cfe-#559cfe-#74FAFF"), 50 );


    // land


    var land = Snap("#land");
    land.path("m1021.13204,238.07916c17.39734,-47.34231 63.81534,-125.07921 200.89772,-125.07921c137.08234,0 185.98566,50.63635 " +
        "208.35367,120.9099c22.36804,70.27353 -66.30066,76.08971 -203.383,76.08971c-137.08235,0 -223.26574,-24.57809 -205.86839,-71.92039z").attr({
            fill: "#bada55"
        });
    land.path("m579,288.62216c24.58893,-47.34232 90.19484,-125.07922 283.94327,-125.07922c193.74841,0 262.86697,50.63635 294.48129," +
        "120.90991c31.61438,70.27353 -93.70749,76.08969 -287.45587,76.08969c-193.74841,0 -315.55763,-24.57808 -290.96869,-71.92038z").attr({
            fill: "#bada55"
        });

    var tree = land.path('m1216.1875,39.90813l45.5,-39l45.5,39l-91,0z');
    land.rect(1255, 90, 15, 50);

    land.group(tree, land.path("m1210.00751,66.67812l51.5,-42.99998l51.5,42.99998l-103,0z"),
               land.path('m1214.04749,98.50313l48.50049,-51l48.49951,51l-97,0z')).attr({ fill: "#007f00" });

    //sun

    var background = Snap('#backgroud');

    background.attr({
        fill: background.gradient("l(1, 0, 1, 1) #f8fefc-#a6fef6-#a6fef6")
    });

    Snap.load("img/chibi.svg", function (f) {
        f.selectAll("polygon[fill='#09B39C']").attr({fill: "#bada55"});
        g = f.select("g");
        background.append(g);
        g.drag();
    });

    var sun = background.path("m533.33014,170.7674l-40.15372,15.78006l0,-31.56039l40.15372,15.78033zm-29.1524,-77.79779l-18.28918,42.56816l-20.19208,-22.32339l38.48126," +
        "-20.24477zm-70.3717,-32.20219l14.29803,44.39026l-28.59317,0l14.29514,-44.39026zm-70.37125,32.20219l38.52887,20.24477l-20.19171,22.32339l-18.33716," +
        "-42.56816zm-29.10464,77.79779l40.15338,-15.78033l0,31.56039l-40.15338,-15.78006zm29.10464,77.77213l18.33716,-42.54239l20.19171,22.32318l-38.52887," +
        "20.21921l0,0zm70.37125,32.22797l-14.29514,-44.3898l28.59317,0l-14.29803,44.3898zm70.3717,-32.22797l-38.48126,-20.21921l20.14725,-22.32318l18.33401," +
        "42.54239zm-120.1319,-77.77213l0,0c0,-30.38016 22.27994,-55.0127 49.76019,-55.0127c27.48013,0 49.7637,24.63254 49.7637,55.0127c0,30.35483 -22.28357,54.98718 " +
        "-49.7637,54.98718c-27.48026,0 -49.76019,-24.63235 -49.76019,-54.98718l0,0z").attr({
            fill: "#EAB004"
        }).data("i", i)
        .click(function () {
            alert('good morning!');
        });

//        background.path("m1.5,250c0,-3 -0.11866,-4.02521 1,-9c0.90456,-4.02266 4.78985,-9.07843 6,-12c1.71141,-4.13171 5.54136,-9.70267 7,-13c1.66802," +
//            "-3.77065 3.61065,-9.15927 5,-12c1.5841,-3.23892 3.72399,-8.22273 7,-12c1.85319,-2.13675 4.48626,-5.82375 5,-8c0.22975,-0.97325 0.69255," +
//            "-3.186 2,-5c3.30762,-4.58908 6.72962,-10.22885 11,-15c4.71585,-5.26884 6.69255,-8.186 8,-10c1.65381,-2.29454 3,-4 6,-8c3,-4 6.29362," +
//            "-8.7265 10,-13c3.27601,-3.77727 6.9183,-6.11214 11,-9c2.94335,-2.08247 6.11214,-3.9183 9,-8c2.08247,-2.94335 5.28316,-6.75223 7,-9c4.89374," +
//            "-6.40713 7.00041,-8.29155 11,-15c2.75771,-4.62547 5,-7 6,-9c1,-2 1.09789,-3.82443 3,-5c0.85065,-0.52573 0.29289,-2.29289 1,-3c0.70711," +
//            "-0.70711 0.77025,-1.02675 1,-2c0.51374,-2.17625 1.23463,-3.15224 2,-5c1.08239,-2.61313 4.41886,-4.41886 6,-6c1.58115,-1.58114 3.15224," +
//            "-2.23463 5,-3c1.30656,-0.54119 0.70546,-2.34619 3,-4c1.814,-1.30745 4.85274,-3.1731 6,-4c1.814,-1.30745 3,-1 3,-1c0,-1 -0.38269,-1.07612 0," +
//            "-2c1.0824,-2.61312 2.69344,-5.45881 4,-6c0.92387,-0.38268 0.52016,-1.32367 2,-3c2.38617,-2.703 4.4588,-3.69344 5,-5c0.38269,-0.92388 1.4588," +
//            "-1.69344 2,-3c0.38269,-0.92388 0.29289,-2.29289 1,-3c1.41422,-1.41421 3.88152,1.19028 7,3c1.93399,1.12234 3,2 4,2c1,0 2.29289,0.29289 3," +
//            "1c0.70711,0.70711 -0.70711,1.29289 0,2c0.70711,0.70711 0.58578,1.58578 2,3c0.70711,0.70711 1,1 1,2c0,1 1,1 6,1c4,0 6.133,0.5695 10,2c4.19435," +
//            "1.55159 7.93414,3.14429 10,4c2.92157,1.21015 3.07613,2.61732 4,3c1.30656,0.54119 2.4588,1.69344 3,3c0.38269,0.92388 0.83981,1.01291 1," +
//            "2c0.50655,3.12144 2.71413,6.21167 5,9c1.7932,2.18734 4,3 5,4c1,1 3.05414,0.43268 6,1c5.28799,1.01837 16,7 22,11c6,4 9.5582,7.51929 13," +
//            "10c1.814,1.30745 4.0535,0.5405 6,1c6.52875,1.54123 12.21262,5.67121 17,9c5.25717,3.65543 8.88153,6.19028 12,8c3.86798,2.24468 6.84921," +
//            "5.21812 14,10c7.8421,5.24419 17.92029,11.11351 25,16c5.93472,4.09622 9.88153,6.19028 13,8c1.93399,1.12234 3.48505,2.70576 6,4c5.4086," +
//            "2.78336 14.10638,3.73035 22,7c11.16327,4.62398 16.86829,8.28859 21,10c2.92157,1.21014 4.23401,2.49295 9,5c3.19098,1.67856 7.86829," +
//            "4.28859 12,6c2.92157,1.21014 4.87857,2.49345 8,3c5.92252,0.96109 17.82425,3.44879 25,6c6.85947,2.43877 13.22629,3.4185 19,6c7.36008," +
//            "3.29077 13.26102,6.45793 22,11c10.34769,5.3782 16.39154,8.29771 24,13c4.25323,2.62866 7.31,4.33749 10,6c1.203,0.7435 2.82373," +
//            "1.48625 5,2c2.91974,0.68925 5.15222,-0.76537 7,0c1.30658,0.5412 2,1 3,1c1,0 3,0 5,0c4,0 6,2 10,2c3,0 5.87854,0.49345 9,1c1.97418," +
//            "0.32036 4,1 6,1c0,0 0,1 1,1c1,0 2,0 3,0c1,0 4.29291,-0.29289 5,-1c0.70709,-0.70711 -0.70709,-0.70711 0,0c0.70709,0.70711 3,0 4," +
//            "0c3,0 5,0 8,0c1,0 3,0 3,0l1,0").attr({fill:"#b94a48"});


//            background.path('m662.48865,228.97426c0.14783,-1.55017 0.25079,-3.10066 0.25079,-4.70076c0,-27.40338 -22.95651,-49.62305 -51.21136,' +
//                    '-49.62305c-21.95016,0 -40.65836,13.42479 -47.91074,32.22743c-4.84872,-5.11214 -11.70132,-8.40775 -19.44931,' +
//                    '-8.40775c-14.55667,0 -26.35391,11.46083 -26.35391,25.56323c0,1.67136 0.14801,3.29332 0.49683,4.86975c-19.45627,3.10028' +
//                    ' -34.30899,19.33536 -34.30899,39.05867c0,21.92722 18.35312,39.68872 40.96152,39.68872l130.07285,0c22.60742,0 40.96179,-17.76151' +
//                    ' 40.96179,-39.68872c0,-19.48079 -14.45325,-35.59445 -33.50946,-38.98753z').attr({
//                        fill:  background.gradient("l(1, 1, 0, 0) #30ACFF-#30ACFF-#74FAFF")
//            });


    var i = 0;

    setInterval(function(){
            if( i == 0){
                sun.animate({fill: '#FFFF99' },1000);
                i++;
            }else{
                sun.animate({fill: '#EAB004' },1000);
                i =  0;
            }
        }, 1000
    );




};

function drawCircle(s, wave_path , wav_path_x , wav_path_y , wav_width , g  ,number) {

    var curve = s.path("m"+wav_path_x+","+wav_path_y+"c0,"+wave_path);
    var i ;
    var discs;

    for( i = 0 ; i < number ; i++){
        discs = s.group(curve, s.path("m"+(wav_path_x-=wav_width)+","+wav_path_y+"c0,"+wave_path));
        discs.attr({
            fill: g,
            stroke: g,
            strokeWidth: 3
        });
    }
}